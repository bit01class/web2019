<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
	body>div{
		width: 800px;
		background-color: gray;
	}
	#header>h1{
		float: left;
	}
	#header>div{
		width: 200px;
		float: right;
	}
	#menu{
		clear: both;
	}
</style>
<script type="text/javascript">
	var form,xhr;
	window.onload=function(){
		/* 
		btn=document.querySelector("#header>div>button");
		btn.onclick=function(){
			//alert("클릭");
			tf=document.querySelector('#header>div>input');
			var id=tf.value;
			xhr=new XMLHttpRequest();
			xhr.onreadystatechange=function(){
				var msg=xhr.responseText;
				var target=document.querySelector("#header>div");
				target.innerHTML=msg;
			};
			xhr.open('get','hello.jsp?id='+id);
			xhr.send();
		};
		 */
		form=document.querySelector('#header>div>form');
		form.onsubmit=function(){
			//alert('폼태그 동작 금지');
			var id=form.querySelector('#id').value;
			var pw=form.querySelector('#pw').value;
			xhr=new XMLHttpRequest();
			xhr.onreadystatechange=function(){
				console.log(xhr.status);
				/* 
				xhr.status
				=200 정상
				=404 페이지없음
				=40x 요청문제
				=50x 해당페이지에 문제
				*/
				/* 
				xhr.readyState
				=0 none
				=1 open()
				=2 header
				=3 content
				=4 complete
				*/
				if(xhr.readyState==4 && xhr.status==200){
					var msg=xhr.responseText;
					form.outerHTML=msg;
				}else if(xhr.readyState==4){
					alert('잠시뒤에 다시 접속해주세요');
				}
			};
			xhr.open('get',this.action+'?id='+id+'&pw='+pw,true);
			xhr.send();
			return false;
		};
	};
</script>
</head>
<body>
	<div id="header">
		<h1>비트교육센터</h1>
		<div>
			<form action="result.jsp">
				<div>
					<label for="id">id</label>
					<input type="text" name="id" id="id"/>
				</div>
				<div>
					<label for="pw">pw</label>
					<input type="text" name="pw" id="pw"/>
				</div>
				<div>
					<button>로그인</button>
				</div>
			</form>
		</div>
	</div>
	<div id="menu">
		<a href="#">menu1</a>
		<a href="#">menu2</a>
		<a href="#">menu3</a>
		<a href="#">menu4</a>
	</div>
	<div id="content">
		<h2>첫화면입니다</h2>
	</div>
	<div id="footer">
		Copyright &copy; 비트캠프 All rights reserved.
	</div>
</body>
</html>